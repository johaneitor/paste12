<!doctype html>
<html lang="es">
<head>
<meta name="description" content="Paste12: comparte notas an√≥nimas e historias inspiradoras de forma simple."/>
<script id="p12-single-detector">
(()=>{
  const isSingle = !!document.querySelector("meta[name=\"p12-single\"]") || (document.body && document.body.getAttribute("data-single")==="1");
  window.__P12_SINGLE__ = isSingle;
  if(isSingle) document.documentElement.classList.add("p12-single");
})();
</script>
<meta name="p12-safe-shim" content="1">
  <meta name="ads-client" content="ca-pub-XXXXXXXXXXXXXXX">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>paste12</title>
  <link rel="stylesheet" href="/css/styles.css">
  <!-- Ads (s√≥lo cambia tu client y slot cuando tengas el ID) -->
  <link rel="preconnect" href="https://pagead2.googlesyndication.com">
  <link rel="preconnect" href="https://googleads.g.doubleclick.net">
<script>(function(){/* p12-single runtime injector */
 try {
   var isSingle = (document.body && document.body.dataset && document.body.dataset.single === "1");
   if (!isSingle) {
     var q = new URLSearchParams(location.search);
     isSingle = q.has("id") || q.has("note");
   }
   if (isSingle && !document.querySelector("meta[name=\"p12-single\"]")) {
     var m = document.createElement("meta");
     m.name = "p12-single"; m.content = "1"; document.head.appendChild(m);
   }
 } catch(e) {}
})();</script>
<style id="shim-hide-menu-expand">
.menu .expand{ display:none !important; }
</style>
<script id="p12-cache-guard">
(function(){
  try{
    if(!document.querySelector('span.views')){
      if('serviceWorker' in navigator){
      }
      if(!/([?&])nosw=1/.test(location.search)){
        var q = location.search ? location.search + '&nosw=1' : '?nosw=1';
        location.replace(location.pathname + q + location.hash);
      }
    }
  }catch(_){}
})();
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9479870293204581" crossorigin="anonymous"></script>
</head>
<body>
  <header class="topbar">
<meta name="description" content="Paste12: comparte notas an√≥nimas e historias inspiradoras de forma simple."/>
    <h1 style="margin:0">Notas</h1>
  </header>

  <!-- Bloque de anuncio responsivo -->
  <section class="adwrap" style="max-width:860px;margin:12px auto">
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-XXXXXXXXXXXXXXXX"
         data-ad-slot="1234567890"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  </section>

  <main class="container">
    <form id="noteForm" style="display:grid;gap:8px;margin-top:8px">
      <textarea name="text" placeholder="Escribe tu nota‚Ä¶" required></textarea>
      <input type="number" id="hours" name="hours" value="24" min="1" max="720">
      <button type="submit">Publicar</button>
      <span id="status"></span>
    </form>
    <ul id="notes" style="list-style:none;padding:0;margin:16px 0"></ul>
    <section id="ad-below-form" class="ad-slot"><!-- ad slot --></section>
  
  <button id="loadMore" class="load-more" style="display:none;margin:12px auto;padding:8px 14px;border:1px solid #253044;border-radius:10px;background:#0d1320;color:#eaf2ff">Cargar m√°s</button>

</main>
  <footer class="site">
    <a href="/terms.html">T√©rminos y Condiciones</a> ¬∑ <a href="/privacy.html">Pol√≠tica de Privacidad</a>
  <a href="/terms">T√©rminos y Condiciones</a>


  <footer class="footer">
    <a href="/terms.html">T√©rminos</a> ¬∑
    <a href="/privacy.html">Privacidad</a>
  <a href="/terms">T√©rminos y Condiciones</a>


  <!-- Consentimiento -->
  <div id="consent" class="consent is-hidden" aria-hidden="true"
       style="position:fixed;left:0;right:0;bottom:0;padding:10px 14px;display:flex;gap:10px;align-items:center;z-index:9998">
    Usamos cookies/localStorage (por ejemplo, para contar vistas y mostrar anuncios).
    Al continuar acept√°s nuestros <a href="/terms.html">T√©rminos</a> y
    <a href="/privacy.html">Pol√≠tica de Privacidad</a>.
    <button id="consentAccept" style="margin-left:auto">Aceptar</button>
  </div>

  <script src="/js/app.js?v=3"></script>
  <script>
  // Banner de consentimiento fiable
  document.addEventListener('DOMContentLoaded', function(){
    try{
      var c = document.getElementById('consent');
      var b = document.getElementById('consentAccept');
      var has = (localStorage.getItem('consent') === '1');
      if (has) { c.classList.add('is-hidden'); c.setAttribute('hidden',''); c.setAttribute('aria-hidden','true'); }
      else     { c.classList.remove('is-hidden'); c.removeAttribute('hidden'); c.setAttribute('aria-hidden','false'); }
      b && b.addEventListener('click', function(){
        try{ localStorage.setItem('consent','1'); }catch(e){}
        c.classList.add('is-hidden'); c.setAttribute('hidden',''); c.setAttribute('aria-hidden','true');
      });
    }catch(e){}
  });
  </script>

<!-- p12 debug bootstrap -->

<!-- p12 PE shim (solo ?pe=1) -->

<style>/* oculta banners SW de versi√≥n */#deploy-stamp-banner{display:none!important}</style>
<script id="shim-publish-fallback">
(function(){
  const _origFetch = window.fetch;
  async function parseMaybeJSON(res){
    try { return await res.clone().json(); } catch(_){
      try {
        const t = await res.clone().text();
        const m = /\bid\s*=\s*(\d+)/i.exec(t);
        if(m) return { id: parseInt(m[1],10) };
      } catch(__) {}
      return null;
    }
  }
  // Hook suave: solo para POST /api/notes
  window.fetch = async function(input, init){
    const url = (typeof input==="string"?input:(input&&input.url)||"");
    const isNotesPost = /\/api\/notes\b/.test(url) && (!init|| (init.method||"POST").toUpperCase()==="POST");
    const res = await _origFetch(input, init);
    if(isNotesPost && res && res.ok){
      const j = await parseMaybeJSON(res);
      if(j && !res._shim_json){
        // Creamos un Response JSON para el consumidor original
        const blob = new Blob([JSON.stringify(j)], {type: "application/json"});
        const patched = new Response(blob, res);
        // marcamos para evitar doble parsing en cadenas posteriores
        patched._shim_json = true;
        return patched;
      }
    }
    return res;
  };
})();
</script>
<script id="shim-parsenext-next-body">
(function(){
  if(typeof window.parseNext!=="function"){ return; }
  const orig=parseNext;
  window.parseNext = function(res, j){
    let u = orig(res, j);
    if(!u && j && j.next && j.next.cursor_ts && (j.next.cursor_id!=null)){
      u = `/api/notes?cursor_ts=${encodeURIComponent(j.next.cursor_ts)}&cursor_id=${j.next.cursor_id}`;
    }
    return u;
  };
})();
</script>
  <div id="p12-stats" class="stats" style="margin:8px 0;font:14px system-ui, -apple-system, Segoe UI, Roboto, sans-serif;">
    <span class="likes" data-likes="0">&#10084; <b>0</b></span>
    <span class="views" data-views="0" style="margin-left:12px;">&#128065; <b>0</b></span>
    <span class="reports" data-reports="0" hidden style="margin-left:12px;">&#128681; <b>0</b></span>
  </div>
<script id="p12-card-fix-v3">
(function(){
  if (window.__p12CardFixV3) return; window.__p12CardFixV3 = true;

  function ensureSpans(art){
    if (!art) return;
    var meta = art.querySelector('.meta') || art;
    if (!meta) return;
    if (!meta.querySelector('.views')){
      var span = document.createElement('span');
      span.className='views';
      span.innerHTML='üëÅÔ∏è <b>0</b>';
      meta.insertBefore(span, meta.firstChild);
    }
    if (!meta.querySelector('.likes')){
      var s = document.createElement('span');
      s.className='likes';
      s.innerHTML='‚ù§ <b>0</b>';
      meta.insertBefore(s, meta.firstChild);
    }
  }

  function bumpViews(art){
    var b = art && art.querySelector('.views b');
    if (b){
      var n = parseInt(b.textContent||'0',10)||0;
      b.textContent = String(n+1);
    }
  }

  var io = ('IntersectionObserver' in window) ? new IntersectionObserver(function(entries){
    entries.forEach(function(e){
      if (e.isIntersecting){
        var art=e.target, id=art.getAttribute('data-id');
        if (id){
          try{ fetch('/api/notes/'+id+'/view', {method:'POST'}).catch(function(){}); }catch(_){}
        }
        bumpViews(art);
        try{ io.unobserve(art); }catch(_){}
      }
    });
  }, {rootMargin:'0px 0px -60% 0px', threshold:0.2}) : null;

  function watch(){
    document.querySelectorAll('article.note').forEach(function(art){
      ensureSpans(art);
      if (io) try{ io.observe(art); }catch(_){}
    });
  }

  var mo = new MutationObserver(function(ms){
    var changed=false;
    ms.forEach(function(m){
      m.addedNodes && m.addedNodes.forEach(function(n){
        if (n.nodeType===1 && ( (n.matches && n.matches('article.note')) || (n.querySelector && n.querySelector('article.note')) )){
          changed=true;
        }
      });
    });
    if (changed) watch();
  });

  try{ mo.observe(document.documentElement,{childList:true,subtree:true}); }catch(_){}
  try{ document.addEventListener('DOMContentLoaded', watch); }catch(_){}
  try{ window.addEventListener('load', watch); }catch(_){}
  try{ setTimeout(watch, 0); }catch(_){}
})();
</script>

<div id="p12-stats" style="margin:.75rem 0;font:14px system-ui;">Views: <span class="views">0</span> ¬∑ Likes: <span class="likes">0</span> ¬∑ Reports: <span class="reports">0</span></div>

<div id="p12-stats" style="margin:.75rem 0;font:14px system-ui;">Views: <span class="views">0</span> ¬∑ Likes: <span class="likes">0</span> ¬∑ Reports: <span class="reports">0</span></div>

<script id="p12-metrics-enhancer-v1">
(function(){
  try{
    const attach = () => {
      const metaBlocks = Array.from(document.querySelectorAll('.meta, .note .meta, .card .meta'));
      for (const mb of metaBlocks){
        let t = mb.innerHTML;
        // likes
        t = t.replace(/(‚ù§\s*)([0-9]+|\$\{[^}]+\})(?![^<]*<\/span>)/, '<span class="likes">ca-pub-9479870293204581https://paste12-rmsk.onrender.com</span>');
        // views
        t = t.replace(/(üëÅ\s*)([0-9]+|\$\{[^}]+\})(?![^<]*<\/span>)/, '<span class="views">ca-pub-9479870293204581https://paste12-rmsk.onrender.com</span>');
        // reports (si no hay)
        if(!/class=["']reports["']/.test(t)){
          t = t.replace(/(<span class="views"[^>]*>[^<]*<\/span>)/, 'ca-pub-9479870293204581 ¬∑ <span class="reports">üö© 0</span>');
        }
        mb.innerHTML = t;
      }
    };
    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', attach);
    else attach();
  }catch(e){ console.warn('metrics-enhancer', e); }
})();
</script>

</body>

<script id="p12-metrics-enhancer-v1">
(function(){
  try{
    const attach = () => {
      const metaBlocks = Array.from(document.querySelectorAll('.meta, .note .meta, .card .meta'));
      for (const mb of metaBlocks){
        let t = mb.innerHTML;
        // likes
        t = t.replace(/(‚ù§\s*)([0-9]+|\$\{[^}]+\})(?![^<]*<\/span>)/, '<span class="likes">ca-pub-9479870293204581https://paste12-rmsk.onrender.com</span>');
        // views
        t = t.replace(/(üëÅ\s*)([0-9]+|\$\{[^}]+\})(?![^<]*<\/span>)/, '<span class="views">ca-pub-9479870293204581https://paste12-rmsk.onrender.com</span>');
        // reports (si no hay)
        if(!/class=["']reports["']/.test(t)){
          t = t.replace(/(<span class="views"[^>]*>[^<]*<\/span>)/, 'ca-pub-9479870293204581 ¬∑ <span class="reports">üö© 0</span>');
        }
        mb.innerHTML = t;
      }
    };
    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', attach);
    else attach();
  }catch(e){ console.warn('metrics-enhancer', e); }
})();
</script>

</body>

<script id="p12-metrics-enhancer-v1">
(function(){
  try{
    const attach = () => {
      const metaBlocks = Array.from(document.querySelectorAll('.meta, .note .meta, .card .meta'));
      for (const mb of metaBlocks){
        let t = mb.innerHTML;
        // likes
        t = t.replace(/(‚ù§\s*)([0-9]+|\$\{[^}]+\})(?![^<]*<\/span>)/, '<span class="likes">ca-pub-9479870293204581https://paste12-rmsk.onrender.com</span>');
        // views
        t = t.replace(/(üëÅ\s*)([0-9]+|\$\{[^}]+\})(?![^<]*<\/span>)/, '<span class="views">ca-pub-9479870293204581https://paste12-rmsk.onrender.com</span>');
        // reports (si no hay)
        if(!/class=["']reports["']/.test(t)){
          t = t.replace(/(<span class="views"[^>]*>[^<]*<\/span>)/, 'ca-pub-9479870293204581 ¬∑ <span class="reports">üö© 0</span>');
        }
        mb.innerHTML = t;
      }
    };
    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', attach);
    else attach();
  }catch(e){ console.warn('metrics-enhancer', e); }
})();
</script>

</body>
</html>
